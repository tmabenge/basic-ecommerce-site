{"version":3,"sources":["webpack:///src/app/shared/models/shopParams.ts","webpack:///src/app/shop/product-details/product-details.component.ts","webpack:///src/app/shop/product-details/product-details.component.html","webpack:///src/app/shop/product-item/product-item.component.ts","webpack:///src/app/shop/product-item/product-item.component.html","webpack:///src/app/shop/shop-routing.module.ts","webpack:///src/app/shop/shop.component.ts","webpack:///src/app/shop/shop.component.html","webpack:///src/app/shop/shop.module.ts","webpack:///src/app/shop/shop.service.ts"],"names":["ShopParams","brandId","typeId","sort","pageNumber","pageSize","ProductDetailsComponent","shopService","route","breadcrumbService","basketService","quantity","set","loadProduct","addItemToBasket","product","getProduct","snapshot","paramMap","get","subscribe","name","error","console","log","selector","templateUrl","styleUrls","ProductItemComponent","routes","path","component","data","breadcrumb","alias","ShopRoutingModule","forChild","imports","exports","ShopComponent","shopParams","sortOptions","value","getProducts","getBrands","getTypes","response","products","pageIndex","totalCount","count","brands","id","types","event","search","searchTerm","nativeElement","ShopModule","declarations","ShopService","http","baseUrl","apiUrl","params","append","toString","observe","pipe","body","length","find","p","providedIn"],"mappings":"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","file":"shop-shop-module-es5.js","sourcesContent":["export class ShopParams {\r\n  brandId = 0;\r\n  typeId = 0;\r\n  sort = 'name';\r\n  pageNumber = 1;\r\n  pageSize = 6;\r\n  search: string;\r\n}\r\n","import { BasketService } from './../../basket/basket.service';\r\nimport { ShopService } from './../shop.service';\r\nimport { Product } from './../../shared/models/product';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { BreadcrumbService } from 'xng-breadcrumb';\r\n\r\n@Component({\r\n  selector: 'app-product-details',\r\n  templateUrl: './product-details.component.html',\r\n  styleUrls: ['./product-details.component.scss'],\r\n})\r\nexport class ProductDetailsComponent implements OnInit {\r\n  product: Product;\r\n  quantity = 1;\r\n\r\n  constructor(\r\n    private shopService: ShopService,\r\n    private route: ActivatedRoute,\r\n    private breadcrumbService: BreadcrumbService,\r\n    private basketService: BasketService\r\n  ) {\r\n    this.breadcrumbService.set('@productDetails', '');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.loadProduct();\r\n  }\r\n\r\n  addItemToBasket(){\r\n    this.basketService.addItemToBasket(this.product, this.quantity);\r\n  }\r\n\r\n  incrementQuantity(){\r\n    this.quantity++;\r\n  }\r\n\r\n  decrementQuantity(){\r\n    if(this.quantity > 1){\r\n      this.quantity--;\r\n    }\r\n  }\r\n\r\n  loadProduct() {\r\n    this.shopService\r\n      .getProduct(+this.route.snapshot.paramMap.get('id'))\r\n      .subscribe(\r\n        (product) => {\r\n          this.product = product;\r\n          this.breadcrumbService.set('@productDetails', product.name);\r\n        },\r\n        (error) => {\r\n          console.log(error);\r\n        }\r\n      );\r\n  }\r\n}\r\n","<div class=\"container mt-5\">\r\n  <div class=\"row\" *ngIf=\"product\">\r\n    <div class=\"col-6\">\r\n      <img\r\n        src=\"{{ product.pictureUrl }}\"\r\n        alt=\"{{ product.name }}\"\r\n        class=\"img-fluid w-100\"\r\n      />\r\n    </div>\r\n    <div class=\"col-6\">\r\n      <h3>{{ product.name }}</h3>\r\n      <p>{{ product.price | currency }}</p>\r\n      <div class=\"d-flex justify-content-start align-items-center\">\r\n        <i\r\n          (click)=\"decrementQuantity()\"\r\n          class=\"fa fa-minus-circle text-warning mr-2\"\r\n          style=\"cursor: pointer; font-size: 2em;\"\r\n        ></i>\r\n        <span class=\"font-weight-bold\" style=\"font-size: 1.5em;\">{{ quantity }}</span>\r\n        <i\r\n          (click)=\"incrementQuantity()\"\r\n          class=\"fa fa-plus-circle text-warning mx-2\"\r\n          style=\"cursor: pointer; font-size: 2em;\"\r\n        ></i>\r\n        <button (click)=\"addItemToBasket()\" class=\"btn btn-outline-primary btn-lg ml-4\">\r\n          Add to Cart\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div class=\"row mt-5\">\r\n      <div class=\"col-12 ml-3\">\r\n        <h4>Description</h4>\r\n        <p>{{ product.description }}</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { BasketService } from './../../basket/basket.service';\r\nimport { Product } from '../../shared/models/product';\r\nimport { Component, OnInit, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-product-item',\r\n  templateUrl: './product-item.component.html',\r\n  styleUrls: ['./product-item.component.scss']\r\n})\r\nexport class ProductItemComponent implements OnInit {\r\n  @Input() product: Product;\r\n\r\n  constructor(private basketService: BasketService) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  addItemToBasket(){\r\n    this.basketService.addItemToBasket(this.product);\r\n  }\r\n\r\n}\r\n","<div class=\"card h-100 shadow-sm\">\r\n  <div class=\"image position-relative\" style=\"cursor: pointer;\">\r\n    <img\r\n      src=\"{{ product.pictureUrl }}\"\r\n      alt=\"{{ product.name }}\"\r\n      class=\"img-fluid bg-info\"\r\n    />\r\n    <div class=\"d-flex align-items-center justify-content-center hover-overlay\">\r\n      <button\r\n        (click)=\"addItemToBasket()\"\r\n        type=\"button\"\r\n        class=\"btn btn-primary fa fa-shopping-cart mr-2\"\r\n      ></button>\r\n      <button\r\n        routerLink=\"/shop/{{ product.id }}\"\r\n        type=\"button\"\r\n        class=\"btn btn-primary\"\r\n      >\r\n        View\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"card-body d-flex flex-column\">\r\n    <a routerLink=\"/shop/{{ product.id }}\">\r\n      <h6 class=\"text-uppercase\">{{ product.name }}</h6>\r\n    </a>\r\n    <span class=\"mb-2\">{{ product.price | currency }}</span>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { ShopComponent } from './shop.component';\r\nimport { ProductDetailsComponent } from './product-details/product-details.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  {path: '', component: ShopComponent},\r\n  {path: ':id', component: ProductDetailsComponent, data: {breadcrumb: {alias: 'productDetails'}}},\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ShopRoutingModule { }\r\n","import { ShopParams } from './../shared/models/shopParams';\r\nimport { Type } from './../shared/models/productType';\r\nimport { Brand } from './../shared/models/brand';\r\nimport { ShopService } from './shop.service';\r\nimport { Product } from '../shared/models/product';\r\nimport { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-shop',\r\n  templateUrl: './shop.component.html',\r\n  styleUrls: ['./shop.component.scss'],\r\n})\r\nexport class ShopComponent implements OnInit {\r\n  @ViewChild('search', { static: false }) searchTerm: ElementRef;\r\n  products: Product[];\r\n  brands: Brand[];\r\n  types: Type[];\r\n  shopParams = new ShopParams();\r\n  totalCount: number;\r\n  sortOptions = [\r\n    { name: 'Alphabetical', value: 'name' },\r\n    { name: 'Price: Low to High', value: 'priceAsc' },\r\n    { name: 'Price: High to Low', value: 'priceDesc' },\r\n  ];\r\n\r\n  constructor(private shopService: ShopService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.getProducts();\r\n    this.getBrands();\r\n    this.getTypes();\r\n  }\r\n\r\n  getProducts() {\r\n    this.shopService.getProducts(this.shopParams).subscribe(\r\n      (response) => {\r\n        this.products = response.data;\r\n        this.shopParams.pageNumber = response.pageIndex;\r\n        this.shopParams.pageSize = response.pageSize;\r\n        this.totalCount = response.count;\r\n      },\r\n      (error) => {\r\n        console.log(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  getBrands() {\r\n    this.shopService.getBrands().subscribe(\r\n      (response) => {\r\n        this.brands = [{ id: 0, name: 'All' }, ...response];\r\n      },\r\n      (error) => {\r\n        console.log(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  getTypes() {\r\n    this.shopService.getTypes().subscribe(\r\n      (response) => {\r\n        this.types = [{ id: 0, name: 'All' }, ...response];\r\n      },\r\n      (error) => {\r\n        console.log(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  onBrandSelected(brandId: number) {\r\n    this.shopParams.brandId = brandId;\r\n    this.shopParams.pageNumber = 1;\r\n    this.getProducts();\r\n  }\r\n\r\n  onTypeSelected(typeId: number) {\r\n    this.shopParams.typeId = typeId;\r\n    this.shopParams.pageNumber = 1;\r\n    this.getProducts();\r\n  }\r\n\r\n  onSortSelected(sort: string) {\r\n    this.shopParams.sort = sort;\r\n    this.getProducts();\r\n  }\r\n\r\n  onPageChanged(event: any) {\r\n    if (this.shopParams.pageNumber !== event) {\r\n      this.shopParams.pageNumber = event;\r\n      this.getProducts();\r\n    }\r\n  }\r\n\r\n  onSearch() {\r\n    this.shopParams.search = this.searchTerm.nativeElement.value;\r\n    this.shopParams.pageNumber = 1;\r\n    this.getProducts();\r\n  }\r\n\r\n  onReset() {\r\n    this.searchTerm.nativeElement.value = '';\r\n    this.shopParams = new ShopParams();\r\n    this.getProducts();\r\n  }\r\n}\r\n","<div class=\"container mt-3\">\r\n  <div class=\"row\">\r\n    <section class=\"col-3\">\r\n      <ng-container *ngIf=\"brands && types\">\r\n      <h5 class=\"text-warning ml-3 mt-4 mb-3\">Sort</h5>\r\n      <select\r\n        class=\"custom-select mb-3\"\r\n        (change)=\"onSortSelected($event.target.value)\"\r\n      >\r\n        <option *ngFor=\"let sort of sortOptions\" [value]=\"sort.value\">\r\n          {{ sort.name }}\r\n        </option>\r\n      </select>\r\n\r\n      <h5 class=\"text-warning ml-3\">Brands</h5>\r\n      <ul class=\"list-group my-3\">\r\n        <li\r\n          class=\"list-group-item\"\r\n          *ngFor=\"let brand of brands\"\r\n          [class.active]=\"brand.id === shopParams.brandId\"\r\n          [value]=\"brand.id\"\r\n          (click)=\"onBrandSelected(brand.id)\"\r\n        >\r\n          {{ brand.name }}\r\n        </li>\r\n      </ul>\r\n\r\n      <h5 class=\"text-warning ml-3\">Types</h5>\r\n      <ul class=\"list-group my-3\">\r\n        <li\r\n          class=\"list-group-item\"\r\n          *ngFor=\"let type of types\"\r\n          [class.active]=\"type.id == shopParams.typeId\"\r\n          [value]=\"type.id\"\r\n          (click)=\"onTypeSelected(type.id)\"\r\n        >\r\n          {{ type.name }}\r\n        </li>\r\n      </ul>\r\n    </ng-container>\r\n    </section>\r\n\r\n    <!-- MainContent -->\r\n    <section class=\"col-9\">\r\n      <div class=\"d-flex justify-content-between align-items-center pb-2\">\r\n        <app-paging-header\r\n          [totalCount]=\"totalCount\"\r\n          [pageNumber]=\"shopParams.pageNumber\"\r\n          [pageSize]=\"shopParams.pageSize\"\r\n        >\r\n        </app-paging-header>\r\n\r\n        <div class=\"form-inline\" *ngIf=\"products\">\r\n          <input #search\r\n            (keyup.enter)=\"onSearch()\"\r\n            type=\"text\"\r\n            class=\"form-control mr-2\"\r\n            style=\"width: 300px;\"\r\n            placeholder=\"Search\"\r\n          />\r\n          <button (click)=\"onSearch()\" class=\"btn btn-outline-primary my-2\">Search</button>\r\n          <button (click)=\"onReset()\" class=\"btn btn-outline-success my-2 ml-2\">Reset</button>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"col-4 mb-4\" *ngFor=\"let product of products\">\r\n          <app-product-item [product]=\"product\"></app-product-item>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"d-flex justify-content-center\" *ngIf=\"totalCount > 0\">\r\n        <app-pager\r\n          [pageSize]=\"shopParams.pageSize\"\r\n          [totalCount]=\"totalCount\"\r\n          (pageChanged)=\"onPageChanged($event)\"\r\n        ></app-pager>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</div>\r\n","import { RouterModule } from '@angular/router';\r\nimport { SharedModule } from './../shared/shared.module';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { ShopRoutingModule } from './shop-routing.module';\r\nimport { ShopComponent } from './shop.component';\r\nimport { ProductItemComponent } from './product-item/product-item.component';\r\nimport { ProductDetailsComponent } from './product-details/product-details.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [ShopComponent, ProductItemComponent, ProductDetailsComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ShopRoutingModule,\r\n    SharedModule\r\n  ]\r\n})\r\nexport class ShopModule { }\r\n","import { environment } from './../../environments/environment';\r\nimport { ShopParams } from './../shared/models/shopParams';\r\nimport { Type } from './../shared/models/productType';\r\nimport { Brand } from './../shared/models/brand';\r\nimport { Pagination } from '../shared/models/pagination';\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport {map, retry} from 'rxjs/operators';\r\nimport { Product } from '../shared/models/product';\r\nimport { of } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ShopService {\r\n  baseUrl = environment.apiUrl;\r\n  products: Product[] = [];\r\n  brands: Brand[] = [];\r\n  types: Type[] = [];\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getProducts(shopParams: ShopParams) {\r\n    let params = new HttpParams();\r\n\r\n    if (shopParams.brandId !== 0) {\r\n      params = params.append('brandId', shopParams.brandId.toString());\r\n    }\r\n\r\n    if (shopParams.typeId !== 0) {\r\n      params = params.append('typeId', shopParams.typeId.toString());\r\n    }\r\n\r\n    if(shopParams.search){\r\n      params = params.append('search', shopParams.search);\r\n    }\r\n\r\n    params = params.append('sort', shopParams.sort);\r\n    params = params.append('pageIndex', shopParams.pageNumber.toString());\r\n    params = params.append('pageSize', shopParams.pageSize.toString());\r\n\r\n    return this.http.get<Pagination>(this.baseUrl + 'products', {\r\n      observe: 'response',\r\n      params,\r\n    }).pipe(\r\n      map(response => {\r\n        this.products = response.body.data;\r\n        return response.body;\r\n      })\r\n    );\r\n  }\r\n\r\n  getBrands() {\r\n    if(this.brands.length > 0){\r\n      return of(this.brands);\r\n    }\r\n\r\n    return this.http.get<Brand[]>(this.baseUrl + 'products/brands').pipe(\r\n      map(response => {\r\n        this.brands = response;\r\n        return response;\r\n      })\r\n    );\r\n  }\r\n\r\n  getTypes() {\r\n    if(this.types.length > 0){\r\n      return of(this.types);\r\n    }\r\n    return this.http.get<Type[]>(this.baseUrl + 'products/types').pipe(\r\n      map(response => {\r\n        this.types = response;\r\n        return response;\r\n      })\r\n    );\r\n  }\r\n\r\n  getProduct(id: number){\r\n    const product = this.products.find(p => p.id === id);\r\n\r\n    if(product){\r\n      return of(product);\r\n    }\r\n    return this.http.get<Product>(this.baseUrl + 'products/' + id);\r\n  }\r\n}\r\n"]}